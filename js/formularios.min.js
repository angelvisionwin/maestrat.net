function desactivasubmit(o){"use strict";var a="SI",e=document.getElementsByClassName("needs-validation");Array.prototype.filter.call(e,function(e){e.addEventListener("submit",function(r){r.preventDefault(),r.stopPropagation(),"formulariopedidonuevo"==o&&(0!=$('select[id="selectgestionlocal"]').val()||0!=$('select[id="selectcontabilidadlocal"]').val()||0!=$('select[id="selectgestionnube"]').val()||0!=$('select[id="selectcontabilidadnube"]').val()||$("#formcopias").is(":checked")?a="SI":($("#modalNoHayProducto").modal("show"),a="NO")),"SI"==a&&(!0===e.checkValidity()&&procesaformulario(o),e.classList.add("was-validated"))},!1)})}function procesaformulario(o){"use strict";var a,e,r;switch(o){case"formulariocontacto":if(!1===paisPermitido())return void $("#modalPaisNoPermitido").modal("show");$("#enviarboton").prop("disabled",!0),$("#enviarboton").html("Enviando formulario, por favor espera..."),a="php/procesacontacto.php",e=$("#formulariocontacto").serialize(),$.ajax({type:"POST",url:a,data:e,success:function(o){$("#tituloformulario").hide(),$("#contenedorformulario").hide(),$("#exito1").html(o),$("#exito").show(),window.scrollTo(0,350)}});break;case"formularioregistro":if(!1===paisPermitido())return void $("#modalPaisNoPermitido").modal("show");a="php/procesaregistro.php",e=$("#formularioregistro").serialize(),$("#enviarboton").prop("disabled",!0),$("#enviarboton").html("Enviando formulario, por favor espera..."),$.ajax({type:"POST",url:a,data:e,success:function(o){$("#textoregistro").hide(),$("#tituloformulario").hide(),$("#contenedorformulario").hide(),$("#exito1").html(o),$("#exito").show(),window.scrollTo(0,350)}});break;case"formularionube":a="php/procesanube.php",e=$("#formularionube").serialize(),$.ajax({type:"POST",url:a,data:e,success:function(o){$("#caracteristicas-nube").hide(),$("#tituloformulario").hide(),$("#contenedorformulario").hide(),$("#exito1").html(o),$("#exito").show(),window.scrollTo(0,350)}});break;case"formulariodistribucion":a="php/procesadistribucion.php",e=$("#formulariodistribucion").serialize(),$.ajax({type:"POST",url:a,data:e,success:function(o){$("#caracteristicas-distribucion").hide(),$("#tituloformulario").hide(),$("#contenedorformulario").hide(),$("#exito1").html(o),$("#exito").show(),window.scrollTo(0,350)}});break;case"formulariopedidonuevo":$("#modalResumenPedido").modal("show");break;case"distribucion":break;case"formulariodescarga":a="php/procesadescarga.php",e=$("#formulariodescarga").serialize(),$.ajax({type:"POST",url:a,data:e,success:function(o){$("#modalCompleta").modal("hide"),$("#modalDescargaText").html(o),$("#modalCompletaExito").modal("show")}});break;case"formulariobaja":a="php/procesabaja.php",e=$("#formulariobaja").serialize(),$.ajax({type:"POST",url:a,data:e,success:function(o){$("#contenedorformulario").hide(),$("#exito1").html(o),$("#exito").show()}});break;case"formulariosugerencias":a="php/procesasugerencias.php",e=$("#formulariosugerencias").serialize(),$.ajax({type:"POST",url:a,data:e,success:function(o){$("#modalformulario").modal("hide"),$("#modalexito").modal("show")}});break;case"formulariovotos":a="php/procesavotos.php",e=$("#formulariovotos").serialize(),$.ajax({type:"POST",url:a,data:e,success:function(o){$("#modalformulariovotos").modal("hide"),$("#modalexitovotostexto").html(o),$("#modalexitovotos").modal("show")}});break;case"formulariopagofactura":a="php/procesapagarfactura.php",r=form2json("formulariopagofactura"),$.ajax({url:a,type:"POST",data:JSON.stringify(r),success:function(o){var a=jQuery.parseJSON(o);oDatosFactura.cliente=a.cliente,oDatosFactura.cif=a.cif,oDatosFactura.total=a.total,oDatosFactura.facturas=a.facturas,$("#modalPendientesTexto").html(a.html),0!=a.cliente?$("#modalPendientes").modal("show"):$("#modalClienteNoEncontrado").modal("show")}})}}function form2json(o){var a=document.getElementById(o),e=$(a).serializeArray().reduce(function(o,a){return o.hasOwnProperty(a.name)?Array.isArray(o[a.name])?o[a.name].push(a.value):o[a.name]=[o[a.name],a.value]:o[a.name]=a.value,o},{});return e}function sleep(o){return new Promise(a=>setTimeout(a,o))}var oDatosFactura={cliente:0,cif:"",total:0,facturas:""};